# Data Model: Vision-Language-Action Module

This document defines the key data entities and their structures for the VLA module. These are not database models but rather the primary data structures passed between components in the ROS 2 environment.

## Spoken Command

Represents the raw audio input from the user.

- **Type**: Audio stream or file
- **Format**: WAV or other standard audio format
- **Attributes**:
    - `timestamp`: The time the command was issued.
    - `audio_data`: The raw audio bytes.

## Transcribed Text

The text representation of the spoken command.

- **Type**: String
- **Source**: OpenAI Whisper API
- **Attributes**:
    - `text`: The transcribed command (e.g., "pick up the red block").
    - `confidence`: A score indicating the transcription accuracy (if provided by the API).

## Action Plan

A structured, sequential list of tasks for the robot to perform, generated by the LLM.

- **Type**: A ROS 2 message or a structured dictionary/JSON object.
- **Source**: GPT-4 LLM
- **Example Structure**:
  ```json
  {
    "plan_id": "plan-12345",
    "tasks": [
      {
        "task_id": 1,
        "action_name": "navigate_to",
        "parameters": { "destination": "table" }
      },
      {
        "task_id": 2,
        "action_name": "find_object",
        "parameters": { "object_name": "red block" }
      },
      {
        "task_id": 3,
        "action_name": "pick_up",
        "parameters": { "object_id": "red_block_01" }
      }
    ]
  }
  ```

## Robot Action

A single, executable command within the Action Plan. This will be represented as a ROS 2 Action Goal.

- **Type**: ROS 2 Action (`.action` file)
- **Examples**:
    - `Navigate.action`:
        - `goal`: `PoseStamped destination`
        - `result`: `bool success`
        - `feedback`: `float32 distance_remaining`
    - `Pickup.action`:
        - `goal`: `string object_id`
        - `result`: `bool success`
        - `feedback`: `string status`

## Visual Object

Represents an object detected by the perception system in the simulated environment.

- **Type**: A ROS 2 message or a structured object.
- **Source**: Gazebo camera sensor + perception node (e.g., YOLO, OpenCV)
- **Attributes**:
    - `object_id`: A unique identifier for the detected object.
    - `label`: The object's classification (e.g., "block", "apple").
    - `color`: The object's color.
    - `pose`: The object's position and orientation in the world frame (`PoseStamped`).
    - `bounding_box`: The 2D or 3D bounding box of the object.
